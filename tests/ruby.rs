use rand::distributions::Standard;
use rand::Rng as _;
use rand_mt::Mt64;

#[test]
fn reproducibility() {
    // See `scripts/reproducibility.rb`.
    let expected: &[f64] = &[
        0.24851012743772993,
        0.44997542105079547,
        0.4109408029965408,
        0.26029969088689986,
        0.8703956883469495,
        0.18503992716190498,
        0.01966142543004401,
        0.9532520315037121,
        0.6804508047310392,
        0.48658812655052786,
        0.9650268198659541,
        0.39339873912163337,
        0.07955757128689422,
        0.35140742441379624,
        0.16363516260509525,
        0.9831668210338976,
        0.8806281842152414,
        0.49406346811156343,
        0.40095924111847847,
        0.4512914630087632,
    ];

    let rng = Mt64::new(33);
    let samples = rng
        .sample_iter(Standard)
        .take(expected.len())
        .collect::<Vec<f64>>();
    assert_eq!(samples, expected);
}
